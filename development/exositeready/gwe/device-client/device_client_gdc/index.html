<!doctype html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">

    <title>Exosite Documentation</title>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    <!-- Favicon -->
    <link rel="icon" href="/assets/favicon.png">

    <!-- Style -->
    <link href='/assets/theme-white/style.css' rel='stylesheet'>
    <link href='/assets/style.css' rel='stylesheet'>

    <!-- Meta -->
    <meta content="Exosite Reference Documentation" property="og:title">
    <meta content="Developer Documentation for Exosite" name="description">

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-44116002-2', 'auto');
    ga('send', 'pageview');


    </script>

    <!-- Initializer -->
    <script></script>
</head>
<body role='flatdoc' class="no-literate">
<div class='header'>
    <div class='left'>
        <a href="/">
            <img src="/assets/logo-white.png" id="logo">
        </a>
    </div>
    <div class='headercenter'>
        <a href="/">DOCUMENTATION</a>
    </div>
    <div class='links right'>
        <ul>
            <li><a class="nav_orange" href="https://exosite.com/business/signup">Sign Up For Murano</a></li>
            <li><input id="docsearch" placeholder="Search..."></li>
            <li><a href='https://support.exosite.com'>Support</a></li>
            <li><a href='https://community.exosite.com' target="_blank">Developer Forum</a></li>
        </ul>
    </div>
</div>

<div class='content-root'>
    <div class='menubar'>
        <ul class='topmenu'>
            <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">Murano Platform</p>
                <li><a class="level-0" href="/">Murano Overview</a></li>
            </ul>

            <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">Quickstarts</p>
                <li><a class="level-0" href="/quickstarts/">Quickstarts Overview</a></li>
                <li><a class="level-0" href="/quickstarts/lightbulb/">Lightbulb Quickstart</a></li>
		<li><a class="level-0" href="/quickstarts/manualdevice/">Manual Quickstart</a></li>
		<li><a class="level-0" href="/quickstarts/solutions/exampleapp/">Solution Quickstart</a></li>    
            </ul>

            <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">Guides</p>
                <li><a class="level-0" href="/guides/">Guides Overview</a></li>
                <li><a class="level-0" href="/guides/create-account/">Create an Account</a></li>
                <li><a class="level-0" href="/guides/manage-business/">Manage Your Business</a></li>
                <li><a class="level-0" href="/guides/create-solution/">Create a Solution</a></li>
                <li><a class="level-0" href="/guides/create-product/">Create a Product</a></li>
                <li><a class="level-0" href="/guides/user-management/">Manage Users</a></li>
                <li><a class="level-0" href="/guides/keystore-service/">Record Product Metrics</a></li>
            </ul>

            <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">Tutorials</p>
                <li><a class="level-0" href="/tutorials/">Tutorials Overview</a></li>
                <li><a class="level-0" href="/tutorials/hvac-tutorial/">HVAC Reference Application</a></li>
                <li><a class="level-0" href="/tutorials/esp8266-tutorial/">ESP8266 Thing Dev Board</a></li>

            </ul>

            <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">Development</p>
                <li><a class="level-0" href="/development/tools/exosite-cli/">Exosite CLI</a></li>
                <li><a class="level-0" href="/development/tools/exoline-cli/">Exoline CLI</a></li>
                <li><a class="level-0" href="/development/exositeready">ExositeReady</a></li>
            </ul>

            <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">API Reference</p>
                <li><a class="level-0" href="/reference/products/device-api/http/">Device API - HTTP</a></li>
                <li><a class="level-0" href="/reference/scripting">Solution Scripting</a></li>
                <li><a class="level-0" href="/reference/services">Solution Services</a></li>
            </ul>

            <hr style="margin-right:20px;border-top-color: rgba(46, 147, 166, 0.16);">

            <ul style="padding-bottom:0.5em;"><p style="font-size:larger;">One Platform & Portals</p>
                <li><a class="level-1" href="/portals/">Documentation</a></li>
            </ul>
        </ul>
        <div class='menu section' role='flatdoc-menu'></div>
    </div>
    <div role='flatdoc-content' class='content'><h1 id="device-client-gdc-readme">Device Client (GDC) README</h1>
<p>The purpose of the <code>device-client</code> package is to provide a library to the Exosite <a href="/portals/http/">HTTP Device API</a> as well as providing some other gateway-centric services.</p>
<h2 id="overview">Overview</h2>
<p>The Gateway Device Client (GDC) can be referred to as the protocol layer of the gateway. It is a python package that can be used as a common entry point for all requests to Exosite. Though other Exosite API libraries exist, GDC is used by ExositeReadyâ„¢ Gateway Engine (GWE) and other Exosite gateway technologies to format and process all Exosite API requests. The GDC library has a few features that make it extremely useful for development, debugging, and telemetry purposes.</p>
<h3 id="response-handlers">Response Handlers</h3>
<p>Writing code that handles HTTP(s) responses can quickly add to the overhead of writing a gateway IoT application. Utilizing the built-in response handlers can simplify things.</p>
<pre><code>from exo.api import ExositeAPI

api = ExositeAPI(cik=&#39;7f091cf4b16de3fb3172c253eb35109a6992d76b&#39;)

resp_handler = api.http_write(&#39;hello_dataport&#39;, &#39;World&#39;)
if resp_handler.success:
    pass
else:
    print(&#39;Unable to send message: {}&#39;.format(resp_handler))
</code></pre><h3 id="interface-auditing">Interface Auditing</h3>
<p>When using either the <code>ExositeAPI()</code> or <code>Device()</code> objects, all requests to Exosite will be logged for gathering statistics and telemetrics. The log is in the form of an <code>sqlite3</code> database located in <code>/tmp/ifaces.db</code> (default) for efficient queries.</p>
<pre><code>sqlite3 /tmp/ifaces.db &quot;.dump&quot;
</code></pre><h3 id="connect-to-custom-servers">Connect to Custom Servers</h3>
<p>Sometimes your IoT solution is in development and you need to point your data originator at some URL other than <code>VENDOR.m2.exosite.com</code>. The <code>device-client</code> library supports custom server URLs (as well as port).</p>
<pre><code>from exo.api import ExositeAPI

PORT = &#39;443&#39;

api = ExositeAPI(
    cik=&#39;7f091cf4b16de3fb3172c253eb35109a6992d76b&#39;,
    url=&#39;192.168.10.242:&#39;+PORT
)

resp_handler = api.http_write(&#39;hello_dataport&#39;, &#39;World&#39;)
if resp_handler.success:
    pass
else:
    print(&#39;Unable to send message: {}&#39;.format(resp_handler))
</code></pre><p>For more information on the configurable parameters to the <code>ExositeAPI</code> class, visit <a href="https://gateway-engine.exosite.io/device-client/apidoc/modules.html">the module documentation</a>.</p>
<h3 id="command-line-interface">Command-line Interface</h3>
<p>A light-weight CLI is provided for common tasks like checking the version number, install path, etc.</p>
<pre><code>$ gdc -h
usage: gdc [-h] [-v] [-b] [-p]

Exosite Gateway Device Client Command Line Interface

optional arguments:
  -h, --help      show this help message and exit
  -v, --version   Print the current version of device-client.
  -p, --path      Print the installation path to the device-client python
                  package.

For more information visit https://github.com/exosite/device-client
$ gdc --version 
1.4.1
</code></pre><h2 id="building">Building</h2>
<p>The <code>device-client</code> library is <strong>built</strong> for installation via GWE.</p>
<pre><code>$ cd device-client
$ source gwe.build &amp;&amp; gwe_build
Creating __build_id__: device-client.v1_f97dd97
a exo
a exo/__build_id__.py
a exo/__init__.py
a exo/api.py
a exo/constants.py
a exo/device.py
a exo/handlers.py
a exo/ifaces.py
a README.md
a requirements.txt
a setup.py
/Users/willcharlton/sandbox/GatewayEngine/device-client/device-client.v1_f97dd97.tar.gz
</code></pre><p>The resultant tarball is installable with the GWE OTAU feature. This is the same process that creates the production version of <code>device-client</code> that GWE installs and utilizes.</p>
<h2 id="installation">Installation</h2>
<p>Currently, the <code>device-client</code> library can be installed in several ways. Installing from source is supported but not recommended because the process of <strong>building</strong> <code>device-client</code> makes the exact version of the code traceable (making support and debug easier).</p>
<h3 id="from-gwe-installer">From GWE Installer</h3>
<p>If you have, or intend to have, GWE installed, you can install <code>device-client</code> from a build.</p>
<pre><code># virtualenv step optional
mkvirtualenv gwe --python=`which python2.7`
pip install -e git+ssh://git@github.com/exosite/gateway-engine.git#egg=gateway-engine
gwe -I device-client.v1_f97dd97.tar.gz
</code></pre><h3 id="from-tarball">From Tarball</h3>
<pre><code>tar zxvf device-client.v1_f97dd97.tar.gz
cd device-client
python setup.py install
</code></pre><h3 id="from-source-pip-">From Source (pip)</h3>
<pre><code>mkvirtualenv device-client --python=python2.7
pip install -e git+ssh://git@github.com/exosite/device-client.git#egg=device-client
</code></pre><h3 id="from-source-setup-py-">From Source (setup.py)</h3>
<pre><code>git clone git@github.com:exosite/device-client.git
cd device-client
python setup.py install
</code></pre><h2 id="documentation">Documentation</h2>
<p>The documentation for <code>device-client</code> can be built with the <a href="http://www.sphinx-doc.org/">Sphinx Documentation</a> tool. The <code>Makefile</code> has been modified to include the creation of a single PDF.</p>
<p>To create the docs, simply run:</p>
<pre><code>cd device-client
mkvirtualenv device-client-sphinx
python setup.py install
pip install -r requirements-docs.txt
make html
</code></pre><p>To create a PDF file of all of the documentation, simply run:</p>
<pre><code>make singlepdf
</code></pre></div>
</div>

<div id="markdown" style="display:none;">

</div>

<!-- Custom -->
<script src='/assets/main.js'></script>

</body>
</html>
